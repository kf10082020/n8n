diff --git a/dist/index.node.js b/dist/index.node.js
index 9a56dcef7f312d2061975dc496281b1673a229c4..3f4cb23a4c9fa5365a0aa2b3a7a1e19a1f39e2f9 100644
--- a/dist/index.node.js
+++ b/dist/index.node.js
@@ -16,7 +16,11 @@ async function getRandomValues(size) {
  * @returns The random string
  */
 async function random(size) {
-    const mask = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~";
+    /**
+     * RFC 7636-compliant base64url charset WITHOUT '~'
+     * '~' is often rejected by strict OAuth servers (even if spec allows it).
+     * See: https://tools.ietf.org/html/rfc7636#section-4.2
+     */
+    const mask = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._";
     let result = "";
     const randomUints = await getRandomValues(size);
     for (let i = 0; i < size; i++) {
diff --git a/package.json b/package.json
index a51ede0564b61a237e35e8c5e718251c666ccaa5..2cf08babc71db4134b2e6d470ecde40a0f34f37a 100644
--- a/package.json
+++ b/package.json
@@ -4,6 +4,9 @@
   "description": "Generate or verify a Proof Key for Code Exchange (PKCE) challenge pair",
   "browser": "dist/index.browser.js",
   "type": "module",
+  // 👇 Добавление поддержки типов для Node.js импорта
+  "types": "./dist/index.node.d.ts",
+
   "exports": {
     ".": {
       "types": {

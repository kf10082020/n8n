-- Старт транзакции (поддерживается большинством БД)
BEGIN TRANSACTION;

-- Таблица отделов (первая, т.к. от неё зависят сотрудники)
DROP TABLE IF EXISTS dept;
CREATE TABLE dept (
	deptno INT PRIMARY KEY,
	dname  VARCHAR(14) NOT NULL,
	loc    VARCHAR(13) NOT NULL
);

INSERT INTO dept (deptno, dname, loc) VALUES
	(1, 'ACCOUNTING', 'ST LOUIS'),
	(2, 'RESEARCH',   'NEW YORK'),
	(3, 'SALES',      'ATLANTA'),
	(4, 'OPERATIONS', 'SEATTLE');

-- Таблица сотрудников
DROP TABLE IF EXISTS emp;
CREATE TABLE emp (
	empno     INT PRIMARY KEY,
	ename     VARCHAR(10) NOT NULL,
	job       VARCHAR(20) NOT NULL,
	mgr       INT,
	hiredate  DATE NOT NULL,
	sal       NUMERIC(7,2) NOT NULL,
	comm      NUMERIC(7,2),
	dept      INT NOT NULL,
	FOREIGN KEY (dept) REFERENCES dept(deptno)
);

INSERT INTO emp (empno, ename, job, mgr, hiredate, sal, comm, dept) VALUES
	(1,  'JOHNSON',    'ADMIN',     6,  '1990-12-17', 18000, NULL, 4),
	(2,  'HARDING',    'MANAGER',   9,  '1998-02-02', 52000, 300,  3),
	(3,  'TAFT',       'SALES I',   2,  '1996-01-02', 25000, 500,  3),
	(4,  'HOOVER',     'SALES I',   2,  '1990-04-02', 27000, NULL, 3),
	(5,  'LINCOLN',    'TECH',      6,  '1994-06-23', 22500, 1400, 4),
	(6,  'GARFIELD',   'MANAGER',   9,  '1993-05-01', 54000, NULL, 4),
	(7,  'POLK',       'TECH',      6,  '1997-09-22', 25000, NULL, 4),
	(8,  'GRANT',      'ENGINEER', 10,  '1997-03-30', 32000, NULL, 2),
	(9,  'JACKSON',    'CEO',      NULL,'1990-01-01', 75000, NULL, 4),
	(10, 'FILLMORE',   'MANAGER',   9,  '1994-08-09', 56000, NULL, 2),
	(11, 'ADAMS',      'ENGINEER', 10,  '1996-03-15', 34000, NULL, 2),
	(12, 'WASHINGTON', 'ADMIN',     6,  '1998-04-16', 18000, NULL, 4),
	(13, 'MONROE',     'ENGINEER', 10,  '2000-12-03', 30000, NULL, 2),
	(14, 'ROOSEVELT',  'CPA',       9,  '1995-10-12', 35000, NULL, 1);

COMMIT;
